/* File generated with Shader Minifier 1.1.4cce
 * http://www.ctrl-alt-test.fr
 */
#ifndef FRAGMENT_INL_
# define FRAGMENT_INL_

const char *fragment_frag =
 "#version 430\n"
 "layout(location=0)uniform int t;\n"
 "float v,f,z,i=0,m=2,n=.3,r=0;"
 "vec3 y;"
 "int S=0;"
 "void t(inout vec2 f,float m)"
 "{"
   "f=cos(m)*f+sin(m)*vec2(f.y,-f.x);"
 "}"
 "float t(vec3 f,float z,float m)"
 "{"
   "return mix(length(f.xz)-z,length(vec3(f.x,abs(f.y)-m,f.z))-z,step(m,abs(f.y)));"
 "}"
 "float x(float f,float m)"
 "{"
   "float n=clamp(.5+.5*(m-f)/.2,0,1);"
   "return mix(m,f,n)-.2*n*(1-n);"
 "}"
 "float x(vec3 f,float z,float m)"
 "{"
   "float i=length(f.xz)-z;"
   "i=max(i,abs(f.y)-m);"
   "return i;"
 "}"
 "float t(float m)"
 "{"
   "return m<0?-1:1;"
 "}"
 "float s(vec3 f,vec3 z,float m)"
 "{"
   "return length(max(abs(f)-z,0))-m;"
 "}"
 "float l;"
 "float s(vec3 f)"
 "{"
   ""
   "return min(max(length(f)-.8,-x(f+vec3(0,.6,-.5),.65,.5)),max(x(f+vec3(0,.53,-.3),.65,.5),-x(f+vec3(0,.6,-.3),.62,.6)));"
 "}"
 "float s(vec3 d,float m)"
 "{"
   "vec3 i=d;"
   "d.x=sqrt(.05+d.x*d.x)-.2;"
   "t(d.xy,-.2);"
   "float z=t(d,1,.7);"
   "t(i.yz,.8*sin(m+1.8));"
   ""
   "return x(z,t(i+vec3(0,.9,-0),1.3,.2));"
 "}"
 "float w(vec3 m,float f,float z)"
 "{"
   "vec3 i=m+vec3(.7*f,-1.3,0);"
   "float n=l+z,r=1.2*cos(n)+z*.9;"
   "t(i.xy,.6+-f*(-.2+sqrt(.01+pow(sin(n*3),2))));"
   "t(i.yz,r);"
   "i.y+=1.5;"
   ""
   "vec3 p=i+vec3(0,1,0);"
   "t(p.yz,-.3-.5*abs(r));"
   ""
   "p.y+=.8;"
   "vec3 a=p+vec3(.05,1.2,0);"
   "t(a.xy,.9);"
   "return x(t(i,.4,1.1),x(t(p,.35,.8),s(a,vec3(.17,.03,.2),.1)));"
 "}"
 "float c;"
 "float e(vec3 m,float f,int i)"
 "{"
   "float z=.5+l*4+f,r=n*sin(z);"
   "vec3 p=m+vec3(sin((l+f)*2)*.3,-5+-1*pow(sin(l*8+f),2),-2*r),a=p;"
   "t(a.yz,r);"
   "t(a.xz,sin(l*3)*.5);"
   ""
   "vec3 g=p;"
   "t(g.yz,0+n*1.3*sin(z-.3));"
   "g+=vec3(0,-3,0);"
   "float Y=s(g),k=s(a,z),b=k;"
   "if(i==0)"
     "{"
       "float o=w(a,-1,0);"
       "b=x(k,o);"
       "float u=w(a,1,.2);"
       "b=x(b,u);"
     "}"
   "b=x(b,t(g+vec3(0,.7,-.3),.6,.3));"
   "if(Y<.01)"
     "c=1;"
   "b=min(b,Y);"
   "return b;"
 "}"
 "float e(vec3 f)"
 "{"
   "float i=e(f,0,0);"
   "i=x(i,e(f+vec3(3,0,3),.9,0));"
   "i=x(i,e(f+vec3(-3,0,3),1.65,0));"
   "i=min(i,e(f+vec3(-5.5,1,2),.5,1));"
   "return i;"
 "}"
 "vec3 w(vec3 f)"
 "{"
   "vec2 i=vec2(.01,0);"
   "return(vec3(e(f+i.xyy),e(f+i.yxy),e(f+i.yyx))-e(f))/i.x;"
 "}"
 "vec3 d;"
 "vec4 e(inout vec3 z,vec3 r)"
 "{"
   "vec3 a,n=z;"
   "float p=0;"
   "int b;"
   "for(b=0;b<70;b++)"
     "{"
       "c=0;"
       "float g=e(z);"
       "if(g<.001||p>100)"
         "{"
           "break;"
         "}"
       "p+=g;"
       "z=n+p*r;"
     "}"
   "float g=10*max(0,-.5+cos(.5+f*m*3.141));"
   "vec3 Y=vec3(g)*max(0,pow(dot(-normalize(-d),r),20));"
   "if(p>50)"
     "return vec4(Y,p);"
   "z=n+p*r;"
   "vec3 o=w(z),u=.3*vec3(pow(sin(10*z.z+l),3),.3*sin(10*z.x),0);"
   "float k=c;"
   "u*=1-k;"
   "a=normalize(o+u);"
   "vec3 X=d-z;"
   "float E=length(X);"
   "X=normalize(X);"
   "vec3 h=normalize(-r),C=normalize(X+h),R=normalize(d-z),N=z+a;"
   "float q=.1,F=1;"
   "for(int Z=0;Z<20;Z++)"
     "{"
       "N=z+q*R;"
       "float W=e(N);"
       "if(W<.01)"
         "{"
           "F=0;"
           "break;"
         "}"
       "F=min(F,8*W/q);"
       "q+=W;"
     "}"
   "float W,Z=4;"
   "for(W=1;Z>0;Z--)"
     "W-=30*e(z+o*Z*.03)/exp2(Z);"
   "float V=1-max(0,W),U=dot(h,C);"
   "vec3 T=6.65/E*vec3(1,1.5,2);"
   "float Q=pow(max(0,dot(a,C)),40)*.03+pow(max(0,dot(a,C)),1600);"
   "if(k==0)"
     "Q*=.81,T*=vec3(1,.1,.1);"
   "else"
     " T*=.02;"
   "T*=max(0,dot(X,a))*V*max(0,dot(X,normalize(d))-.8);"
   "T+=Q;"
   "T*=F*mix(1,g,i);"
   "return vec4(T,p);"
 "}"
 "void main()"
 "{"
   "v=t/44100.;"
   "f=v*128/60.;"
   "d=20*vec3(.5,.5,.7);"
   "l=v*.5;"
   "vec2 z=gl_FragCoord.xy/vec2(1280,720.);"
   "vec3 a=vec3(z-vec2(.5),-1);"
   "a.y*=.5625;"
   "a.xy*=.3;"
   "int b=int(f/4)%2;"
   "float p=min(1,f/20),g=0,T=0;"
   "vec3 k=vec3(0);"
   "int X=1;"
   "if(f>48)"
     "X=0,T=1;"
   "if(f>112)"
     "n=.5,m=6;"
   "if(f>200)"
     "p=0;"
   "if(f>48&&f<152||f>204)"
     "{"
       "p=1;"
       "if(int(f)%4==2)"
         "X=1;"
       "if(int(f)%16==15)"
         "X=1;"
       "i=1;"
       "m=4;"
       "l=v*.03+.1*floor(f/4);"
       "if(f>204)"
         "n=1;"
     "}"
   "if(f>112&&f<144||f>240&&f<272)"
     "k-=vec3(7,.5,50+10*sin(9*floor(.5+f/4.))),a.xy*=.8,g-=2.9,m=6,l=v*.06,b=2;"
   "if(f>152&&f<200)"
     "{"
       "float Y=(f-152)/8.;"
       "a.xy*=.5-Y*.05;"
       "float o=fract(Y)/100;"
       "k.y=.3;"
       "k.z=1.5;"
       "l=v*.02+floor(Y);"
       "b=0;"
       "p=6*fract(f);"
       "r=1;"
       "d.x-=Y*8;"
     "}"
   "if(f>304)"
     "X=1;"
   "if(f>328)"
     "p=0;"
   "if(b==0)"
     "g+=-.8;"
   "t(a.xz,g);"
   "y=normalize(a);"
   "a.y+=7.5;"
   "a.z+=17;"
   "a+=k;"
   "if(X==1)"
     "a.x*=.1,a.y=7,y.y=0;"
   "if(b==0)"
     "a.x-=20;"
   "else"
     " a.z+=5;"
   "vec4 Y=e(a,y);"
   "vec3 Z=Y.xyz;"
   "if(X==1)"
     "{"
       "z.y=mix(z.y,pow(cos(z.x),2)-.4,T*mod(floor(f/3.),2));"
       "float o=mod(floor(f/2.),2);"
       "Z=vec3(.5,.8,1)*pow(.01/abs(z.y+-Z.x*o-.45+sin((.1+.2*fract(f))*min(1,f/40))*((.1+.2*fract(f))*min(1,f/40.))*sin(pow(z.x*10,mod(floor(f/4.),3))+f*20)),4-2.5*o*fract(f*4)+cos(z.x*3.8+1.3));"
     "}"
   "Z=p*mix(Z,vec3(length(Z))*vec3(.5,.8,1)*2,r);"
   "Z.z+=.01;"
   "Z=sqrt(max(vec3(0),Z/(Z+vec3(1))));"
   ""
   "gl_FragColor=vec4(Z+.05*fract(sin(dot(z.xy+vec2(v),vec2(12.98,78)))*4375.54),1);"
 "}";

#endif // FRAGMENT_INL_
